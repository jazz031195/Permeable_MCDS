\hypertarget{class_gradient_waveform}{}\section{Gradient\+Waveform Class Reference}
\label{class_gradient_waveform}\index{Gradient\+Waveform@{Gradient\+Waveform}}


Gradient Wavefroms =============================================================/.  




{\ttfamily \#include $<$gradientwaveform.\+h$>$}



Inheritance diagram for Gradient\+Waveform\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=183pt]{class_gradient_waveform__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Gradient\+Waveform\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=262pt]{class_gradient_waveform__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_gradient_waveform_acf951c9a86f95d002db4858ee4c78582}\label{class_gradient_waveform_acf951c9a86f95d002db4858ee4c78582}} 
\hyperlink{class_gradient_waveform_acf951c9a86f95d002db4858ee4c78582}{Gradient\+Waveform} ()
\begin{DoxyCompactList}\small\item\em Default constructor, set default N\+U\+LL values. Not to be used. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_gradient_waveform_aad3922dbe19647ed0fcbba175fb9a5ff}\label{class_gradient_waveform_aad3922dbe19647ed0fcbba175fb9a5ff}} 
\hyperlink{class_gradient_waveform_aad3922dbe19647ed0fcbba175fb9a5ff}{Gradient\+Waveform} (\hyperlink{class_scheme}{Scheme} \&scheme)
\begin{DoxyCompactList}\small\item\em Main constructor. Takes a pre-\/loaded \hyperlink{class_scheme}{Scheme} file. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_gradient_waveform_a4780653a03ac1f576aeb6102b910ccde}\label{class_gradient_waveform_a4780653a03ac1f576aeb6102b910ccde}} 
\hyperlink{class_gradient_waveform_a4780653a03ac1f576aeb6102b910ccde}{Gradient\+Waveform} (\hyperlink{class_scheme}{Scheme} \&scheme\+\_\+, const char $\ast$traj\+\_\+file\+\_\+name)
\begin{DoxyCompactList}\small\item\em Main constructor. Takes a pre-\/loaded \hyperlink{class_scheme}{Scheme} file and a traj file name. if this argument is passed a traj file is should be written. \end{DoxyCompactList}\item 
double \hyperlink{class_gradient_waveform_a5f55e43b3057509b0f98812d2a72db9a}{get\+Numericalb\+Value} (unsigned)
\item 
\mbox{\Hypertarget{class_gradient_waveform_a52971b5f773c8c0b7c43bcd5fc50197a}\label{class_gradient_waveform_a52971b5f773c8c0b7c43bcd5fc50197a}} 
void \hyperlink{class_gradient_waveform_a52971b5f773c8c0b7c43bcd5fc50197a}{get\+D\+W\+I\+Signal} ()
\begin{DoxyCompactList}\small\item\em Computes de DW signal from a trajfile. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_gradient_waveform_a82da8e7b3bffe4557e6e38191b7f8d81}\label{class_gradient_waveform_a82da8e7b3bffe4557e6e38191b7f8d81}} 
void \hyperlink{class_gradient_waveform_a82da8e7b3bffe4557e6e38191b7f8d81}{read\+Scheme\+File} ()
\begin{DoxyCompactList}\small\item\em reads the waveform \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_gradient_waveform_a2f1449c026649e4601f773086d1346ce}\label{class_gradient_waveform_a2f1449c026649e4601f773086d1346ce}} 
void \hyperlink{class_gradient_waveform_a2f1449c026649e4601f773086d1346ce}{get\+Interpolated\+Grad\+Impulse} (uint rep\+\_\+index, double dt\+\_\+sim, double t\+\_\+sim\+\_\+last, Eigen\+::\+Vector3d \&Gdt)
\begin{DoxyCompactList}\small\item\em For using with the adt array. \end{DoxyCompactList}\item 
void \hyperlink{class_gradient_waveform_a2c606400c648cebd85827efa8d22b6bc}{update\+\_\+phase\+\_\+shift} (double time\+\_\+step, Eigen\+::\+Matrix3\+Xd \hyperlink{class_gradient_waveform_a83a7c844f86acee3b7ab12e7e70202af}{trajectory})
\item 
void \hyperlink{class_gradient_waveform_a7421301b24b6c98e28ef9430287cdf8e}{update\+\_\+phase\+\_\+shift} (double \hyperlink{class_gradient_waveform_a3eacca54a58dc574384f07899a9a6da3}{dt}, double dt\+\_\+last, \hyperlink{class_walker}{Walker} walker)
\item 
\mbox{\Hypertarget{class_gradient_waveform_af4291596da9c45247b0748d945bd9b54}\label{class_gradient_waveform_af4291596da9c45247b0748d945bd9b54}} 
void \hyperlink{class_gradient_waveform_af4291596da9c45247b0748d945bd9b54}{update\+\_\+\+D\+W\+I\+\_\+signal} (\hyperlink{class_walker}{Walker} \&walker)
\begin{DoxyCompactList}\small\item\em Updates the D\+WI signal using the cumulated phase shift. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_gradient_waveform_a040d4a70dc7951c235010791e1c581d1}\label{class_gradient_waveform_a040d4a70dc7951c235010791e1c581d1}} 
void \hyperlink{class_gradient_waveform_a040d4a70dc7951c235010791e1c581d1}{set\+Number\+Of\+Steps} (unsigned \hyperlink{class_gradient_waveform_af2f45ff237ba41afe3ff5cedb7c1c966}{T})
\begin{DoxyCompactList}\small\item\em Set the number of time steps if they are known. \end{DoxyCompactList}\item 
void \hyperlink{class_gradient_waveform_a80dd810cb4e5a11dec311ac87e55ea18}{get\+Grad\+Impulse} (int i, double t, double t\+Last, Eigen\+::\+Vector3d \&Gdt)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{class_gradient_waveform_a25edbe4ee53950831074f2ca4bfca48f}{num\+\_\+rep}
\item 
double \hyperlink{class_gradient_waveform_a4e0c0163e36cc017f5b147e9ca3022e0}{TE}
\item 
uint \hyperlink{class_gradient_waveform_af2f45ff237ba41afe3ff5cedb7c1c966}{T}
\item 
double \hyperlink{class_gradient_waveform_a8608216ab7e5f002dcf6af4f869c5d27}{dyn\+\_\+duration}
\item 
int \hyperlink{class_gradient_waveform_ac2287a6ef99e35f0c1f97fc3ffb37d7b}{wave\+\_\+bins}
\item 
double \hyperlink{class_gradient_waveform_a02d695fa36713bd28d3c85d2bb7a877b}{wave\+\_\+duration}
\item 
double \hyperlink{class_gradient_waveform_a3eacca54a58dc574384f07899a9a6da3}{dt}
\item 
bool \hyperlink{class_gradient_waveform_a712eedb2165b3f889e27244fc9d91ebd}{scale\+\_\+from\+\_\+stu}
\item 
std\+::vector$<$ std\+::vector$<$ float $>$ $>$ \hyperlink{class_gradient_waveform_a565fce08abb28fe26664194c04faeaea}{waveform}
\item 
\hyperlink{class_trajectory}{Trajectory} \hyperlink{class_gradient_waveform_a83a7c844f86acee3b7ab12e7e70202af}{trajectory}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Gradient Wavefroms =============================================================/. 

Implementation of the the General Wavefroms.

Main implementation of the gradient waveforms protocol \begin{DoxyAuthor}{Author}
Jonathan Rafael 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
November 2017 \subsection*{1.\+42 }
\end{DoxyDate}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_gradient_waveform_a80dd810cb4e5a11dec311ac87e55ea18}\label{class_gradient_waveform_a80dd810cb4e5a11dec311ac87e55ea18}} 
\index{Gradient\+Waveform@{Gradient\+Waveform}!get\+Grad\+Impulse@{get\+Grad\+Impulse}}
\index{get\+Grad\+Impulse@{get\+Grad\+Impulse}!Gradient\+Waveform@{Gradient\+Waveform}}
\subsubsection{\texorpdfstring{get\+Grad\+Impulse()}{getGradImpulse()}}
{\footnotesize\ttfamily void Gradient\+Waveform\+::get\+Grad\+Impulse (\begin{DoxyParamCaption}\item[{int}]{i,  }\item[{double}]{t,  }\item[{double}]{t\+Last,  }\item[{Eigen\+::\+Vector3d \&}]{Gdt }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}


\begin{DoxyParams}{Parameters}
{\em i} & \hyperlink{class_walker}{Walker} index \\
\hline
{\em t} & current time step (in milisenconds) \\
\hline
{\em t\+Last} & last time step (in milisenconds) \\
\hline
{\em Gdt} & vector to compute de G$\ast$dt impulse \\
\hline
\end{DoxyParams}


Implements \hyperlink{class_simulable_sequence_a03a417776f5404b06c761ab9109e3e1d}{Simulable\+Sequence}.

\mbox{\Hypertarget{class_gradient_waveform_a5f55e43b3057509b0f98812d2a72db9a}\label{class_gradient_waveform_a5f55e43b3057509b0f98812d2a72db9a}} 
\index{Gradient\+Waveform@{Gradient\+Waveform}!get\+Numericalb\+Value@{get\+Numericalb\+Value}}
\index{get\+Numericalb\+Value@{get\+Numericalb\+Value}!Gradient\+Waveform@{Gradient\+Waveform}}
\subsubsection{\texorpdfstring{get\+Numericalb\+Value()}{getNumericalbValue()}}
{\footnotesize\ttfamily double Gradient\+Waveform\+::get\+Numericalb\+Value (\begin{DoxyParamCaption}\item[{unsigned}]{ }\end{DoxyParamCaption})}

\begin{DoxyWarning}{Warning}
not implemented yet. 
\end{DoxyWarning}
\mbox{\Hypertarget{class_gradient_waveform_a2c606400c648cebd85827efa8d22b6bc}\label{class_gradient_waveform_a2c606400c648cebd85827efa8d22b6bc}} 
\index{Gradient\+Waveform@{Gradient\+Waveform}!update\+\_\+phase\+\_\+shift@{update\+\_\+phase\+\_\+shift}}
\index{update\+\_\+phase\+\_\+shift@{update\+\_\+phase\+\_\+shift}!Gradient\+Waveform@{Gradient\+Waveform}}
\subsubsection{\texorpdfstring{update\+\_\+phase\+\_\+shift()}{update\_phase\_shift()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void Gradient\+Waveform\+::update\+\_\+phase\+\_\+shift (\begin{DoxyParamCaption}\item[{double}]{time\+\_\+step,  }\item[{Eigen\+::\+Matrix3\+Xd}]{trajectory }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}


\begin{DoxyParams}{Parameters}
{\em i} & updated the phase shift over a whole trajectory \\
\hline
\end{DoxyParams}


Implements \hyperlink{class_simulable_sequence_a175197d165ee7852094bc70cadc59589}{Simulable\+Sequence}.

\mbox{\Hypertarget{class_gradient_waveform_a7421301b24b6c98e28ef9430287cdf8e}\label{class_gradient_waveform_a7421301b24b6c98e28ef9430287cdf8e}} 
\index{Gradient\+Waveform@{Gradient\+Waveform}!update\+\_\+phase\+\_\+shift@{update\+\_\+phase\+\_\+shift}}
\index{update\+\_\+phase\+\_\+shift@{update\+\_\+phase\+\_\+shift}!Gradient\+Waveform@{Gradient\+Waveform}}
\subsubsection{\texorpdfstring{update\+\_\+phase\+\_\+shift()}{update\_phase\_shift()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void Gradient\+Waveform\+::update\+\_\+phase\+\_\+shift (\begin{DoxyParamCaption}\item[{double}]{dt,  }\item[{double}]{dt\+\_\+last,  }\item[{\hyperlink{class_walker}{Walker}}]{walker }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}


\begin{DoxyParams}{Parameters}
{\em i} & updated walker \\
\hline
\end{DoxyParams}


Implements \hyperlink{class_simulable_sequence_ad7b2a30f563343aa65489aa553d4df63}{Simulable\+Sequence}.



\subsection{Member Data Documentation}
\mbox{\Hypertarget{class_gradient_waveform_a3eacca54a58dc574384f07899a9a6da3}\label{class_gradient_waveform_a3eacca54a58dc574384f07899a9a6da3}} 
\index{Gradient\+Waveform@{Gradient\+Waveform}!dt@{dt}}
\index{dt@{dt}!Gradient\+Waveform@{Gradient\+Waveform}}
\subsubsection{\texorpdfstring{dt}{dt}}
{\footnotesize\ttfamily double Gradient\+Waveform\+::dt}

individual time steps (miliseconds) of the wave \mbox{\Hypertarget{class_gradient_waveform_a8608216ab7e5f002dcf6af4f869c5d27}\label{class_gradient_waveform_a8608216ab7e5f002dcf6af4f869c5d27}} 
\index{Gradient\+Waveform@{Gradient\+Waveform}!dyn\+\_\+duration@{dyn\+\_\+duration}}
\index{dyn\+\_\+duration@{dyn\+\_\+duration}!Gradient\+Waveform@{Gradient\+Waveform}}
\subsubsection{\texorpdfstring{dyn\+\_\+duration}{dyn\_duration}}
{\footnotesize\ttfamily double Gradient\+Waveform\+::dyn\+\_\+duration}

simulation duration (miliseconds) \mbox{\Hypertarget{class_gradient_waveform_a25edbe4ee53950831074f2ca4bfca48f}\label{class_gradient_waveform_a25edbe4ee53950831074f2ca4bfca48f}} 
\index{Gradient\+Waveform@{Gradient\+Waveform}!num\+\_\+rep@{num\+\_\+rep}}
\index{num\+\_\+rep@{num\+\_\+rep}!Gradient\+Waveform@{Gradient\+Waveform}}
\subsubsection{\texorpdfstring{num\+\_\+rep}{num\_rep}}
{\footnotesize\ttfamily int Gradient\+Waveform\+::num\+\_\+rep}

number of repetitions . \mbox{\Hypertarget{class_gradient_waveform_a712eedb2165b3f889e27244fc9d91ebd}\label{class_gradient_waveform_a712eedb2165b3f889e27244fc9d91ebd}} 
\index{Gradient\+Waveform@{Gradient\+Waveform}!scale\+\_\+from\+\_\+stu@{scale\+\_\+from\+\_\+stu}}
\index{scale\+\_\+from\+\_\+stu@{scale\+\_\+from\+\_\+stu}!Gradient\+Waveform@{Gradient\+Waveform}}
\subsubsection{\texorpdfstring{scale\+\_\+from\+\_\+stu}{scale\_from\_stu}}
{\footnotesize\ttfamily bool Gradient\+Waveform\+::scale\+\_\+from\+\_\+stu}

True if the input is in standar units \mbox{\Hypertarget{class_gradient_waveform_af2f45ff237ba41afe3ff5cedb7c1c966}\label{class_gradient_waveform_af2f45ff237ba41afe3ff5cedb7c1c966}} 
\index{Gradient\+Waveform@{Gradient\+Waveform}!T@{T}}
\index{T@{T}!Gradient\+Waveform@{Gradient\+Waveform}}
\subsubsection{\texorpdfstring{T}{T}}
{\footnotesize\ttfamily uint Gradient\+Waveform\+::T}

num bins (time steps) \mbox{\Hypertarget{class_gradient_waveform_a4e0c0163e36cc017f5b147e9ca3022e0}\label{class_gradient_waveform_a4e0c0163e36cc017f5b147e9ca3022e0}} 
\index{Gradient\+Waveform@{Gradient\+Waveform}!TE@{TE}}
\index{TE@{TE}!Gradient\+Waveform@{Gradient\+Waveform}}
\subsubsection{\texorpdfstring{TE}{TE}}
{\footnotesize\ttfamily double Gradient\+Waveform\+::\+TE}

Time Echo. \mbox{\Hypertarget{class_gradient_waveform_a83a7c844f86acee3b7ab12e7e70202af}\label{class_gradient_waveform_a83a7c844f86acee3b7ab12e7e70202af}} 
\index{Gradient\+Waveform@{Gradient\+Waveform}!trajectory@{trajectory}}
\index{trajectory@{trajectory}!Gradient\+Waveform@{Gradient\+Waveform}}
\subsubsection{\texorpdfstring{trajectory}{trajectory}}
{\footnotesize\ttfamily \hyperlink{class_trajectory}{Trajectory} Gradient\+Waveform\+::trajectory}

If the signal is computed from a .trajfile \mbox{\Hypertarget{class_gradient_waveform_ac2287a6ef99e35f0c1f97fc3ffb37d7b}\label{class_gradient_waveform_ac2287a6ef99e35f0c1f97fc3ffb37d7b}} 
\index{Gradient\+Waveform@{Gradient\+Waveform}!wave\+\_\+bins@{wave\+\_\+bins}}
\index{wave\+\_\+bins@{wave\+\_\+bins}!Gradient\+Waveform@{Gradient\+Waveform}}
\subsubsection{\texorpdfstring{wave\+\_\+bins}{wave\_bins}}
{\footnotesize\ttfamily int Gradient\+Waveform\+::wave\+\_\+bins}

Wave discretization \mbox{\Hypertarget{class_gradient_waveform_a02d695fa36713bd28d3c85d2bb7a877b}\label{class_gradient_waveform_a02d695fa36713bd28d3c85d2bb7a877b}} 
\index{Gradient\+Waveform@{Gradient\+Waveform}!wave\+\_\+duration@{wave\+\_\+duration}}
\index{wave\+\_\+duration@{wave\+\_\+duration}!Gradient\+Waveform@{Gradient\+Waveform}}
\subsubsection{\texorpdfstring{wave\+\_\+duration}{wave\_duration}}
{\footnotesize\ttfamily double Gradient\+Waveform\+::wave\+\_\+duration}

Wave duration (should be less qeual than dyn\+\_\+dur.) \mbox{\Hypertarget{class_gradient_waveform_a565fce08abb28fe26664194c04faeaea}\label{class_gradient_waveform_a565fce08abb28fe26664194c04faeaea}} 
\index{Gradient\+Waveform@{Gradient\+Waveform}!waveform@{waveform}}
\index{waveform@{waveform}!Gradient\+Waveform@{Gradient\+Waveform}}
\subsubsection{\texorpdfstring{waveform}{waveform}}
{\footnotesize\ttfamily std\+::vector$<$ std\+::vector$<$float$>$ $>$ Gradient\+Waveform\+::waveform}

Defined waveforms 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/gradientwaveform.\+h\item 
src/gradientwaveform.\+cpp\end{DoxyCompactItemize}
